#include "generated.h";

namespace Content {
    const char* index = "<!DOCTYPE html>\012<html lang=\"en\">\012  <head>\012    <!-- Required meta tags -->\012    <meta charset=\"utf-8\" />\012    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\012\012    <!-- Bootstrap CSS -->\012    <link\012      href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css\"\012      rel=\"stylesheet\"\012      integrity=\"sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl\"\012      crossorigin=\"anonymous\"\012    />\012\012    <title>LED Feather Wing</title>\012  </head>\012  <body class=\"bg-light\">\012    <div class=\"container\" style=\"max-width: 960px\">\012      <main>\012        <div class=\"py-5 text-center\">\012          <h2>LED Feather Wing</h2>\012          <p class=\"lead\">TKTK</p>\012        </div>\012\012        <div class=\"row g-3\">\012          <div class=\"col-md-7 col-lg-12\">\012            <h4 class=\"mb-3\">Device Settings</h4>\012            <form class=\"needs-validation\" novalidate>\012              <div class=\"row g-3\">\012                <div class=\"col-12\">\012                  <label for=\"mDeviceName\" class=\"form-label\"\012                    >Device Name</label\012                  >\012                  <input\012                    type=\"text\"\012                    class=\"form-control\"\012                    id=\"mDdeviceName\"\012                    name=\"mDeviceName\"\012                    placeholder=\"Device Name\"\012                  />\012                </div>\012\012                <div class=\"col-12\">\012                  <label for=\"mTimezoneOffsetMinutes\" class=\"form-label\"\012                    >Time Zone</label\012                  >\012                  <select\012                    name=\"mTimezoneOffsetMinutes\"\012                    id=\"mTimezoneOffsetMinutes\"\012                    class=\"form-control\"\012                  >\012                    <option value=\"-720\">\012                      (GMT -12:00) Eniwetok, Kwajalein\012                    </option>\012                    <option value=\"-660\">\012                      (GMT -11:00) Midway Island, Samoa\012                    </option>\012                    <option value=\"-600\">(GMT -10:00) Hawaii</option>\012                    <option value=\"-590\">(GMT -9:30) Taiohae</option>\012                    <option value=\"-540\">(GMT -9:00) Alaska</option>\012                    <option value=\"-480\">\012                      (GMT -8:00) Pacific Time (US &amp; Canada)\012                    </option>\012                    <option value=\"-420\">\012                      (GMT -7:00) Mountain Time (US &amp; Canada)\012                    </option>\012                    <option value=\"-360\">\012                      (GMT -6:00) Central Time (US &amp; Canada), Mexico City\012                    </option>\012                    <option value=\"-300\">\012                      (GMT -5:00) Eastern Time (US &amp; Canada), Bogota, Lima\012                    </option>\012                    <option value=\"-290\">(GMT -4:30) Caracas</option>\012                    <option value=\"-240\">\012                      (GMT -4:00) Atlantic Time (Canada), Caracas, La Paz\012                    </option>\012                    <option value=\"-230\">(GMT -3:30) Newfoundland</option>\012                    <option value=\"-180\">\012                      (GMT -3:00) Brazil, Buenos Aires, Georgetown\012                    </option>\012                    <option value=\"-120\">(GMT -2:00) Mid-Atlantic</option>\012                    <option value=\"-60\">\012                      (GMT -1:00) Azores, Cape Verde Islands\012                    </option>\012                    <option value=\"0\">\012                      (GMT) Western Europe Time, London, Lisbon, Casablanca\012                    </option>\012                    <option value=\"60\">\012                      (GMT +1:00) Brussels, Copenhagen, Madrid, Paris\012                    </option>\012                    <option value=\"120\">\012                      (GMT +2:00) Kaliningrad, South Africa\012                    </option>\012                    <option value=\"180\">\012                      (GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg\012                    </option>\012                    <option value=\"230\">(GMT +3:30) Tehran</option>\012                    <option value=\"240\">\012                      (GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi\012                    </option>\012                    <option value=\"290\">(GMT +4:30) Kabul</option>\012                    <option value=\"300\">\012                      (GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent\012                    </option>\012                    <option value=\"350\">\012                      (GMT +5:30) Bombay, Calcutta, Madras, New Delhi\012                    </option>\012                    <option value=\"375\">(GMT +5:45) Kathmandu, Pokhara</option>\012                    <option value=\"360\">\012                      (GMT +6:00) Almaty, Dhaka, Colombo\012                    </option>\012                    <option value=\"410\">(GMT +6:30) Yangon, Mandalay</option>\012                    <option value=\"420\">\012                      (GMT +7:00) Bangkok, Hanoi, Jakarta\012                    </option>\012                    <option value=\"480\">\012                      (GMT +8:00) Beijing, Perth, Singapore, Hong Kong\012                    </option>\012                    <option value=\"555\">(GMT +8:45) Eucla</option>\012                    <option value=\"540\">\012                      (GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk\012                    </option>\012                    <option value=\"590\">(GMT +9:30) Adelaide, Darwin</option>\012                    <option value=\"600\">\012                      (GMT +10:00) Eastern Australia, Guam, Vladivostok\012                    </option>\012                    <option value=\"650\">(GMT +10:30) Lord Howe Island</option>\012                    <option value=\"660\">\012                      (GMT +11:00) Magadan, Solomon Islands, New Caledonia\012                    </option>\012                    <option value=\"710\">(GMT +11:30) Norfolk Island</option>\012                    <option value=\"720\">\012                      (GMT +12:00) Auckland, Wellington, Fiji, Kamchatka\012                    </option>\012                    <option value=\"795\">(GMT +12:45) Chatham Islands</option>\012                    <option value=\"780\">(GMT +13:00) Apia, Nukualofa</option>\012                    <option value=\"840\">\012                      (GMT +14:00) Line Islands, Tokelau\012                    </option>\012                  </select>\012                </div>\012\012                <div class=\"form-check\">\012                  <input\012                    type=\"checkbox\"\012                    class=\"form-check-input\"\012                    id=\"mUseDst\"\012                    name=\"mUseDst\"\012                  />\012                  <label class=\"form-check-label\" for=\"mUseDst\"\012                    >Use Daylight Saving Time</label\012                  >\012                </div>\012\012                <div class=\"form-check\">\012                  <label for=\"mBrightness\" class=\"form-label\">Brightness</label>\012                  <input\012                    type=\"range\"\012                    class=\"form-range\"\012                    min=\"0\"\012                    max=\"255\"\012                    id=\"mBrightness\"\012                    name=\"mBrightness\"\012                    value=\"255\"\012                  />\012                </div>\012\012                <div class=\"col-sm-3\">\012                  <label for=\"mAnimationIndex\" class=\"form-label\"\012                    >Animation Index</label\012                  >\012                  <input\012                    type=\"number\"\012                    class=\"form-control\"\012                    id=\"mAnimationIndex\"\012                    name=\"mAnimationIndex\"\012                  />\012                </div>\012\012                <hr class=\"my-4\" />\012\012                <div class=\"row\">\012                  <div class=\"col-sm-3\">\012                    <p class=\"lead\">Strip A</p>\012                    <div class=\"form-check\">\012                      <input\012                        type=\"checkbox\"\012                        class=\"form-check-input\"\012                        id=\"enableStrip1\"\012                        name=\"enableStrip1\"\012                      />\012                      <label class=\"form-check-label\" for=\"enableStrip1\"\012                        >Enable</label\012                      >\012                    </div>\012\012                    <div class=\"form-check\">\012                      <input\012                        type=\"checkbox\"\012                        class=\"form-check-input\"\012                        id=\"invertStrip1\"\012                        name=\"invertStrip1\"\012                      />\012                      <label class=\"form-check-label\" for=\"invertStrip1\"\012                        >Invert</label\012                      >\012                    </div>\012                    <div>\012                      <label for=\"indexStrip1\" class=\"form-label\"\012                        >Display Index</label\012                      >\012                      <input\012                        type=\"number\"\012                        min=\"0\"\012                        max=\"16\"\012                        class=\"form-control\"\012                        id=\"indexStrip1\"\012                        name=\"indexStrip1\"\012                      />\012                    </div>\012                    <div>\012                      <label for=\"lengthStrip1\" class=\"form-label\"\012                        >LED Count</label\012                      >\012                      <input\012                        type=\"number\"\012                        min=\"0\"\012                        max=\"150\"\012                        class=\"form-control\"\012                        id=\"lengthStrip1\"\012                        name=\"lengthStrip1\"\012                      />\012                    </div>\012                  </div>\012                  <div class=\"col-sm-3\">\012                    <p class=\"lead\">Strip B</p>\012                    <div class=\"form-check\">\012                      <input\012                        type=\"checkbox\"\012                        class=\"form-check-input\"\012                        id=\"enableStrip2\"\012                        name=\"enableStrip2\"\012                      />\012                      <label class=\"form-check-label\" for=\"enableStrip2\"\012                        >Enable</label\012                      >\012                    </div>\012\012                    <div class=\"form-check\">\012                      <input\012                        type=\"checkbox\"\012                        class=\"form-check-input\"\012                        id=\"invertStrip2\"\012                        name=\"invertStrip2\"\012                      />\012                      <label class=\"form-check-label\" for=\"invertStrip2\"\012                        >Invert</label\012                      >\012                    </div>\012                    <div>\012                      <label for=\"indexStrip2\" class=\"form-label\"\012                        >Display Index</label\012                      >\012                      <input\012                        type=\"number\"\012                        min=\"0\"\012                        max=\"16\"\012                        class=\"form-control\"\012                        id=\"indexStrip2\"\012                        name=\"indexStrip2\"\012                      />\012                    </div>\012                    <div>\012                      <label for=\"lengthStrip2\" class=\"form-label\"\012                        >LED Count</label\012                      >\012                      <input\012                        type=\"number\"\012                        min=\"0\"\012                        max=\"150\"\012                        class=\"form-control\"\012                        id=\"lengthStrip2\"\012                        name=\"lengthStrip2\"\012                      />\012                    </div>\012                  </div>\012                  <div class=\"col-sm-3\">\012                    <p class=\"lead\">Strip C</p>\012                    <div class=\"form-check\">\012                      <input\012                        type=\"checkbox\"\012                        class=\"form-check-input\"\012                        id=\"enableStrip3\"\012                        name=\"enableStrip3\"\012                      />\012                      <label class=\"form-check-label\" for=\"enableStrip3\"\012                        >Enable</label\012                      >\012                    </div>\012\012                    <div class=\"form-check\">\012                      <input\012                        type=\"checkbox\"\012                        class=\"form-check-input\"\012                        id=\"invertStrip3\"\012                        name=\"invertStrip3\"\012                      />\012                      <label class=\"form-check-label\" for=\"invertStrip3\"\012                        >Invert</label\012                      >\012                    </div>\012                    <div>\012                      <label for=\"indexStrip3\" class=\"form-label\"\012                        >Display Index</label\012                      >\012                      <input\012                        type=\"number\"\012                        min=\"0\"\012                        max=\"16\"\012                        class=\"form-control\"\012                        id=\"indexStrip3\"\012                        name=\"indexStrip3\"\012                      />\012                    </div>\012                    <div>\012                      <label for=\"lengthStrip3\" class=\"form-label\"\012                        >LED Count</label\012                      >\012                      <input\012                        type=\"number\"\012                        min=\"0\"\012                        max=\"150\"\012                        class=\"form-control\"\012                        id=\"lengthStrip3\"\012                        name=\"lengthStrip3\"\012                      />\012                    </div>\012                  </div>\012                  <div class=\"col-sm-3\">\012                    <p class=\"lead\">Strip D</p>\012                    <div class=\"form-check\">\012                      <input\012                        type=\"checkbox\"\012                        class=\"form-check-input\"\012                        id=\"enableStrip4\"\012                        name=\"enableStrip4\"\012                      />\012                      <label class=\"form-check-label\" for=\"enableStrip4\"\012                        >Enable</label\012                      >\012                    </div>\012\012                    <div class=\"form-check\">\012                      <input\012                        type=\"checkbox\"\012                        class=\"form-check-input\"\012                        id=\"invertStrip4\"\012                        name=\"invertStrip4\"\012                      />\012                      <label class=\"form-check-label\" for=\"invertStrip4\"\012                        >Invert</label\012                      >\012                    </div>\012                    <div>\012                      <label for=\"indexStrip4\" class=\"form-label\"\012                        >Display Index</label\012                      >\012                      <input\012                        type=\"number\"\012                        min=\"0\"\012                        max=\"16\"\012                        class=\"form-control\"\012                        id=\"indexStrip4\"\012                        name=\"indexStrip4\"\012                      />\012                    </div>\012                    <div>\012                      <label for=\"lengthStrip4\" class=\"form-label\"\012                        >LED Count</label\012                      >\012                      <input\012                        type=\"number\"\012                        min=\"0\"\012                        max=\"150\"\012                        class=\"form-control\"\012                        id=\"lengthStrip4\"\012                        name=\"lengthStrip4\"\012                      />\012                    </div>\012                  </div>\012                  <hr class=\"my-4\" />\012                  <button\012                    class=\"w-100 btn btn-primary btn-lg\"\012                    id=\"submitButton\"\012                    type=\"button\"\012                  >\012                    Save Settings\012                  </button>\012                  <hr class=\"my-4\" />\012\012                  <div class=\"col-sm-3\">\012                    <label for=\"neighborsList\" class=\"form-label\"\012                      >Neightbor Devices</label\012                    >\012                    <ul class=\"list-group\" id=\"neighborsList\"></ul>\012                  </div>\012                  <hr class=\"my-4\" />\012\012                  <button\012                    class=\"w-100 btn btn-primary btn-lg\"\012                    id=\"resetNeighborsButton\"\012                    type=\"button\"\012                  >\012                    Reset Neighbors\012                  </button>\012                  <hr class=\"my-4\" />\012                  <button\012                    class=\"w-100 btn btn-primary btn-lg\"\012                    id=\"resetEspButton\"\012                    type=\"button\"\012                  >\012                    Reset ESP32\012                  </button>\012                </div>\012              </div>\012            </form>\012          </div>\012        </div>\012      </main>\012    </div>\012\012    <script\012      src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js\"\012      integrity=\"sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0\"\012      crossorigin=\"anonymous\"\012    ></script>\012\012    <script>\012      const urls = window.location.origin.includes(\".local\")\012        ? {\012            settings: \"/settings\",\012            change: \"/setSettings\",\012            reset: \"/resetEsp\",\012            resetNeighbors: \"/resetNeighbors\",\012          }\012        : {\012            settings: \"http://livingroom1.local/settings\",\012            change: \"http://livingroom1.local/setSettings\",\012            reset: \"http://livingroom1.local/resetEsp\",\012            resetNeighbors: \"http://livingroom1.local/resetNeighbors\",\012          };\012\012      const tryParseInt = (val, errorMsg = \"integer parse failed\") => {\012        const parsed = parseInt(val);\012        if (isNaN(parsed)) {\012          alert(errorMsg);\012          throw Error(errorMsg);\012        }\012        return parsed;\012      };\012      let loaded = false;\012      const stripIndexes = [1, 2, 3, 4];\012      const controls = {\012        mAnimationIndex: document.getElementsByName(\"mAnimationIndex\").item(0),\012        mBrightness: document.getElementsByName(\"mBrightness\").item(0),\012        mDeviceName: document.getElementsByName(\"mDeviceName\").item(0),\012        mTimezoneOffsetMinutes: document\012          .getElementsByName(\"mTimezoneOffsetMinutes\")\012          .item(0),\012        mUseDst: document.getElementsByName(\"mUseDst\").item(0),\012        strips: stripIndexes.map((i) => ({\012          mEnable: document.getElementsByName(`enableStrip${i}`).item(0),\012          mInvert: document.getElementsByName(`invertStrip${i}`).item(0),\012          mLength: document.getElementsByName(`lengthStrip${i}`).item(0),\012          mIndex: document.getElementsByName(`indexStrip${i}`).item(0),\012        })),\012        neighbors: document.getElementById(\"neighborsList\"),\012      };\012      const updateControls = (settings) => {\012        controls.mDeviceName.value = settings.mDeviceName;\012        controls.mTimezoneOffsetMinutes.value = settings.mTimezoneOffsetMinutes;\012        controls.mUseDst.checked = settings.mUseDst;\012        controls.mBrightness.value = settings.mBrightness;\012        controls.mAnimationIndex.value = settings.mAnimationIndex;\012        stripIndexes.forEach((stripIndex, i) => {\012          const control = controls.strips[i];\012          const setting = settings.strips[i];\012          control.mEnable.checked = setting.mEnable;\012          control.mIndex.value = setting.mIndex;\012          control.mLength.value = setting.mLength;\012          control.mInvert.checked = setting.mInvert;\012        });\012        if (settings.neighbors.length) {\012          controls.neighbors.innerHTML = settings.neighbors\012            .map(\012              (x) =>\012                `<li class=\"list-group-item\"><a href=\"http://${x}.local\">${x}.local</a></li>`\012            )\012            .join(\"\");\012        } else {\012          controls.neighbors.innerHTML = \"No Neighbors detected.\";\012        }\012      };\012\012      const parseValues = () => {\012        return {\012          mDeviceName: controls.mDeviceName.value,\012          mTimezoneOffsetMinutes: tryParseInt(\012            controls.mTimezoneOffsetMinutes.value\012          ),\012          mUseDst: controls.mUseDst.checked,\012          mBrightness: tryParseInt(controls.mBrightness.value),\012          mAnimationIndex: tryParseInt(controls.mAnimationIndex.value),\012          strips: controls.strips.map((strip) => ({\012            mEnable: strip.mEnable.checked,\012            mInvert: strip.mInvert.checked,\012            mLength: tryParseInt(strip.mLength.value),\012            mIndex: tryParseInt(strip.mIndex.value),\012          })),\012        };\012      };\012\012      const submitPayload = (payload) => {\012        return new Promise((resolve, reject) => {\012          const req = new XMLHttpRequest(); // new HttpRequest instance\012          req.open(\"POST\", urls.change);\012          req.setRequestHeader(\012            \"Content-Type\",\012            \"application/json;charset=UTF-8\"\012          );\012\012          req.addEventListener(\"load\", () => {\012            if (req.status >= 200 && req.status < 300) {\012              resolve(req.responseText);\012            } else reject(Error(\"failed to submit\"));\012          });\012          req.send(JSON.stringify(payload));\012        });\012      };\012\012      const submitSomething = (endpoint) => {\012        return new Promise((resolve, reject) => {\012          const req = new XMLHttpRequest(); // new HttpRequest instance\012          req.open(\"POST\", endpoint);\012          /*req.setRequestHeader(\012            \"Content-Type\",\012            \"application/json;charset=UTF-8\"\012          );*/\012\012          req.addEventListener(\"load\", () => {\012            console.log(req.status);\012            if (req.status >= 200 && req.status < 300) {\012              resolve();\012            } else reject(Error(\"failed to submit to endpoint \" + endpoint));\012          });\012          req.send();\012        });\012      };\012\012      const registerHandlers = () => {\012        document\012          .getElementById(\"submitButton\")\012          .addEventListener(\"click\", () => {\012            console.log(`submit button`);\012            const payload = parseValues();\012            submitPayload(payload).then(() => {\012              refresh();\012            });\012          });\012\012        document\012          .getElementById(\"resetNeighborsButton\")\012          .addEventListener(\"click\", () => {\012            console.log(`reset Neightbors button`);\012            submitSomething(urls.resetNeighbors).then(() => {\012              controls.neighbors.innerHTML = \"Refreshing...\";\012              window.setTimeout(() => {\012                refresh();\012              }, 5000);\012            });\012          });\012\012        document\012          .getElementById(\"resetEspButton\")\012          .addEventListener(\"click\", () => {\012            console.log(`reset ESP button`);\012            submitSomething(urls.reset).then(() => {\012              controls.neighbors.innerHTML = \"Rebooting...\";\012              window.setTimeout(() => {\012                location.reload();\012              }, 10000);\012            });\012          });\012\012        controls.mBrightness.addEventListener(\"change\", () => {\012          const { mBrightness } = parseValues();\012          const payload = { mBrightness };\012          console.log(`brightness changed ${mBrightness}`);\012          submitPayload(payload).then(() => {\012            refresh();\012          });\012        });\012        controls.mAnimationIndex.addEventListener(\"change\", () => {\012          const { mAnimationIndex } = parseValues();\012          const payload = { mAnimationIndex };\012          console.log(`nimation index changed ${mAnimationIndex}`);\012          submitPayload(payload).then(() => {\012            refresh();\012          });\012        });\012      };\012      const refresh = () => {\012        const req = new XMLHttpRequest();\012        req.onload = () => {\012          // Process our return data\012          if (req.status >= 200 && req.status < 300) {\012            // Runs when the request is successful\012            const settings = JSON.parse(req.responseText);\012            console.log(JSON.parse(req.responseText));\012            updateControls(settings);\012            if (!loaded) {\012              loaded = true;\012              // data loaded the first time, let's attach event listeners.\012              registerHandlers();\012            }\012          } else {\012            // Runs when it's not\012            console.log(req.responseText);\012          }\012        };\012        req.open(\"GET\", urls.settings);\012        req.send();\012      };\012      console.log(controls);\012      refresh();\012    </script>\012  </body>\012</html>\012";
}
